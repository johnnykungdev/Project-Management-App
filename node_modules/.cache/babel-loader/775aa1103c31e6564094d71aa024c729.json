{"ast":null,"code":"import _toConsumableArray from \"/Users/Che-Yikung/Desktop/todolist/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/Che-Yikung/Desktop/todolist/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Che-Yikung/Desktop/todolist/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Che-Yikung/Desktop/todolist/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Che-Yikung/Desktop/todolist/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Che-Yikung/Desktop/todolist/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Che-Yikung/Desktop/todolist/src/components/ToDoList/ToDoList.js\";\nimport React, { Component } from 'react';\nimport './ToDoList.css';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport Hamoni from 'hamoni-sync';\n\nvar todolist =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(todolist, _Component);\n\n  function todolist() {\n    var _this;\n\n    _classCallCheck(this, todolist);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(todolist).call(this));\n\n    _this.handleChange = function (event) {\n      if (event.target.name === \"firstName\") _this.setState({\n        firstName: event.target.value\n      });\n      if (event.target.name === \"lastName\") _this.setState({\n        lastName: event.target.value\n      });\n    };\n\n    _this.handleSubmit = function (event) {\n      _this.listPrimitive.push({\n        firstName: _this.state.firstName,\n        lastName: _this.state.lastName\n      });\n\n      _this.setState({\n        firstName: \"\",\n        lastName: \"\"\n      });\n\n      event.preventDefault();\n    };\n\n    _this.renderEditable = function (cellInfo) {\n      return React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"#fafafa\"\n        },\n        contentEditable: true,\n        suppressContentEditableWarning: true,\n        onBlur: function onBlur(e) {\n          var row = _this.state.data[cellInfo.index];\n          row[cellInfo.column.id] = e.target.innerHTML;\n\n          _this.listPrimitive.update(cellInfo.index, row);\n        },\n        dangerouslySetInnerHTML: {\n          __html: _this.state.data[cellInfo.index][cellInfo.column.id]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      });\n    };\n\n    _this.state = {\n      data: [],\n      firstName: \"\",\n      lastName: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(todolist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var hamoni = new Hamoni(\"aa18626a-60b1-4140-a192-02ac9e7715d5\", \"a51305f586634ad5960a274ee2f0a49c\");\n      hamoni.connect().then(hamoni.get(\"datagrid\").then(function (listPrimitive) {\n        _this2.listPrimitive = listPrimitive;\n\n        _this2.setState({\n          data: _toConsumableArray(listPrimitive.getAll())\n        });\n\n        listPrimitive.onItemAdded(function (item) {\n          _this2.setState({\n            data: [].concat(_toConsumableArray(_this2.state.data), [item.value])\n          });\n        });\n        listPrimitive.onItemUpdated(function (item) {\n          var data = [].concat(_toConsumableArray(_this2.state.data.slice(0, item.index)), [item.value], _toConsumableArray(_this2.state.data.slice(item.index + 1)));\n\n          _this2.setState({\n            data: data\n          });\n        });\n        listPrimitive.onSync(function (data) {\n          _this2.setState({\n            data: data\n          });\n        });\n      }).catch(console.log)).catch(console.log);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var data = this.state.data;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"App-intro\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Add a new Task\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"FirstName:\", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"firstName\",\n        value: this.state.firstName,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), \" \", React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"LastName:\", React.createElement(\"input\", {\n        type: \"text\",\n        name: \"lastName\",\n        value: this.state.lastName,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(ReactTable, {\n        data: data,\n        columns: [{\n          Header: \"First Name\",\n          accessor: \"firstName\",\n          Cell: this.renderEditable\n        }, {\n          Header: \"Last Name\",\n          accessor: \"lastName\",\n          Cell: this.renderEditable\n        }, {\n          Header: \"Full Name\",\n          id: \"full\",\n          accessor: function accessor(d) {\n            return React.createElement(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: d.firstName + \" \" + d.lastName\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 127\n              },\n              __self: this\n            });\n          }\n        }],\n        defaultPageSize: 10,\n        className: \"-striped -highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return todolist;\n}(Component);\n\nexport default todolist;","map":{"version":3,"sources":["/Users/Che-Yikung/Desktop/todolist/src/components/ToDoList/ToDoList.js"],"names":["React","Component","ReactTable","Hamoni","todolist","handleChange","event","target","name","setState","firstName","value","lastName","handleSubmit","listPrimitive","push","state","preventDefault","renderEditable","cellInfo","backgroundColor","e","row","data","index","column","id","innerHTML","update","__html","hamoni","connect","then","get","getAll","onItemAdded","item","onItemUpdated","slice","onSync","catch","console","log","Header","accessor","Cell","d"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport './ToDoList.css';\nimport ReactTable from 'react-table';\nimport 'react-table/react-table.css';\nimport Hamoni from 'hamoni-sync';\n\nclass todolist extends Component {\n    constructor() {\n        super();\n        this.state = {\n          data: [],\n          firstName: \"\",\n          lastName: \"\"\n        };\n      }\n\n      componentDidMount() {\n        let hamoni = new Hamoni(\"aa18626a-60b1-4140-a192-02ac9e7715d5\", \"a51305f586634ad5960a274ee2f0a49c\");\n        \n        hamoni\n          .connect()\n          .then(hamoni\n            .get(\"datagrid\")\n            .then(listPrimitive => {\n              this.listPrimitive = listPrimitive;\n              this.setState({\n                data: [...listPrimitive.getAll()]\n              });\n              listPrimitive.onItemAdded(item => {\n                this.setState({ data: [...this.state.data, item.value] });\n              });\n              listPrimitive.onItemUpdated(item => {\n                let data = [\n                ...this.state.data.slice(0, item.index),\n                item.value,\n                ...this.state.data.slice(item.index + 1)\n                ];\n                this.setState({ data: data });\n              });\n              listPrimitive.onSync(data => {\n                this.setState({ data: data });\n              });\n            })\n            .catch(console.log))\n          .catch(console.log)\n      }\n    \n      handleChange = event => {\n        if (event.target.name === \"firstName\")\n          this.setState({ firstName: event.target.value });\n        if (event.target.name === \"lastName\")\n          this.setState({ lastName: event.target.value });\n      };\n\n      handleSubmit = event => {\n        this.listPrimitive.push({\n            firstName: this.state.firstName,\n            lastName: this.state.lastName\n        });\n        this.setState({ firstName: \"\", lastName: \"\" });\n        event.preventDefault();\n    };\n\n    renderEditable = cellInfo => {\n        return (\n          <div\n            style={{ backgroundColor: \"#fafafa\" }}\n            contentEditable\n            suppressContentEditableWarning\n            onBlur={e => {\n              let row = this.state.data[cellInfo.index];\n              row[cellInfo.column.id] = e.target.innerHTML;\n              this.listPrimitive.update(cellInfo.index, row);\n            }}\n            dangerouslySetInnerHTML={{\n              __html: this.state.data[cellInfo.index][cellInfo.column.id]\n            }}\n          />\n        );\n      };\n      render() {\n        const { data } = this.state;\n        return (\n          <div className=\"App\">\n            <p className=\"App-intro\">\n              <form onSubmit={this.handleSubmit}>\n                <h3>Add a new Task</h3>\n                <label>\n                  FirstName:\n                  <input\n                    type=\"text\"\n                    name=\"firstName\"\n                    value={this.state.firstName}\n                    onChange={this.handleChange}\n                  />\n                </label>{\" \"}\n                <label>\n                  LastName:\n                  <input\n                    type=\"text\"\n                    name=\"lastName\"\n                    value={this.state.lastName}\n                    onChange={this.handleChange}\n                  />\n                </label> \n                <input type=\"submit\" value=\"Add\" />\n              </form>\n            </p>\n            <div>\n              <ReactTable\n                data={data}\n                columns={[\n                  {\n                    Header: \"First Name\",\n                    accessor: \"firstName\",\n                    Cell: this.renderEditable\n                  },\n                  {\n                    Header: \"Last Name\",\n                    accessor: \"lastName\",\n                    Cell: this.renderEditable\n                  },\n                  {\n                    Header: \"Full Name\",\n                    id: \"full\",\n                    accessor: d => (\n                      <div\n                        dangerouslySetInnerHTML={{\n                          __html: d.firstName + \" \" + d.lastName\n                        }}\n                      />\n                    )\n                  }\n                ]}\n                defaultPageSize={10}\n                className=\"-striped -highlight\"\n              />\n            </div>\n          </div>\n        );\n      }\n\n}\n\nexport default todolist;"]},"metadata":{},"sourceType":"module"}